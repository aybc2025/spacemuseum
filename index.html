<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>מרכז החלל ונקובר – אפליקציית ילדים (PWA, קובץ יחיד)</title>
  <meta name="theme-color" content="#0b1d51" />
  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" href="./icons/icon-192.png" />
  <meta name="description" content="אפליקציית PWA בעברית לילדים על מרכז החלל של ונקובר: פלנטריום, חצר קוסמית, הדגמות, מצפה, פארק וסדר יום." />
  <style>
    :root{ --bg:#0b1d51; --bg2:#081335; --fg:#fff; --muted:#c9d4ff; --accent:#ffd166; --card:#12235e; --line:#1f2f6e; }
    html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--bg),var(--bg2));color:var(--fg);font-family:system-ui,-apple-system,"Segoe UI",Roboto,Heebo,Arial}
    .site-header{padding:20px;text-align:center}
    .subtitle{opacity:.9;margin-top:6px}
    .install-btn{margin-top:10px;padding:8px 14px;border-radius:10px;border:0;background:#8ad3ff;color:#001634;font-weight:700}
    .tabs{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:8px;position:sticky;top:0;background:rgba(8,19,53,.9);backdrop-filter:saturate(140%) blur(4px);z-index:5}
    .tab-btn{padding:10px;border-radius:12px;border:1px solid var(--line);background:#0e1a4a;color:var(--fg);font-weight:700;cursor:pointer}
    .tab-btn.is-active,.tab-btn:focus{outline:3px solid var(--accent);outline-offset:2px}
    main{padding:14px;max-width:980px;margin:0 auto}
    .tab-content{display:none;animation:fade .2s ease}
    .tab-content.is-active{display:block}
    @keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}
    h1,h2{margin:.2em 0 .4em}
    h2{font-size:1.4rem}
    h3{margin-top:1em}
    .hero{margin:10px 0}
    .hero img{width:100%;height:auto;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.4)}
    .hero figcaption{font-size:.9rem;color:var(--muted);margin-top:6px}
    .content-grid{display:grid;gap:12px;grid-template-columns:1fr}
    @media(min-width:760px){.content-grid{grid-template-columns:1fr 1fr 1fr}}
    ul,ol{line-height:1.7}
    .dayplan li{background:var(--card);margin:.5rem 0;padding:.7rem;border-radius:12px;border:1px solid var(--line)}
    details.card{margin:1rem 0;background:#0e1a4a;padding:0;border-radius:12px;overflow:hidden;border:1px solid var(--line)}
    details.card summary{cursor:pointer;font-weight:700;padding:10px 14px}
    details.card > *:not(summary){padding:0 14px 14px}
    .site-footer{padding:30px 14px;opacity:.8;text-align:center}
  </style>
</head>
<body>
  <header class="site-header">
    <h1>🚀 מרכז החלל ונקובר – לילדים</h1>
    <p class="subtitle">להכיר, לשחק, לתכנן – לפני הביקור ואחריו</p>
    <button id="installBtn" class="install-btn" hidden>התקנה לטלפון</button>
  </header>

  <!-- Tabs navbar -->
  <nav class="tabs" role="tablist" aria-label="כרטיסיות תוכן">
    <button class="tab-btn is-active" data-tab="planetarium" role="tab" aria-selected="true" aria-controls="planetarium">🪐 פלנטריום</button>
    <button class="tab-btn" data-tab="courtyard" role="tab" aria-selected="false" aria-controls="courtyard">🌌 חצר קוסמית</button>
    <button class="tab-btn" data-tab="groundstation" role="tab" aria-selected="false" aria-controls="groundstation">🚀 הדגמות</button>
    <button class="tab-btn" data-tab="observatory" role="tab" aria-selected="false" aria-controls="observatory">🔭 מצפה</button>
    <button class="tab-btn" data-tab="park" role="tab" aria-selected="false" aria-controls="park">🦀 פארק/מזרקה</button>
    <button class="tab-btn" data-tab="dayplan" role="tab" aria-selected="false" aria-controls="dayplan">📅 סדר יום</button>
  </nav>

  <main>
    <!-- 🪐 Planetarium -->
    <section id="planetarium" class="tab-content is-active" role="tabpanel" aria-labelledby="tab-planetarium">
      <h2>🪐 פלנטריום – אולם הכוכבים</h2>
      <figure class="hero">
        <img src="./images/planetarium.jpg" alt="אולם פלנטריום עם כיפה וכוכבים" loading="lazy" />
        <figcaption>כיפת כוכבים עצומה – טסים בלי לצאת מכיסא.</figcaption>
      </figure>
      <div class="content-grid">
        <article>
          <h3>מה רואים שם?</h3>
          <p>
            הפלנטריום הוא אולם בצורת כיפה שמקרין שמיים, כוכבים וגלקסיות מסביבנו. יושבים לאחור, האורות מחשיכים,
            ומתחיל מסע: עפים מעל הירח, מתקרבים לשבתאי ולומדים על טבעות הקרח שלו, מציצים לתוך ערפיליות צבעוניות,
            ואפילו “נוחתים” במחשבה על מאדים. לכל מופע יש סיפור – לעיתים על מערכת השמש, לעיתים על עונות השנה,
            ולעיתים על השמים בלילה בוונקובר.
          </p>
        </article>
        <article>
          <h3>איך זה מרגיש לילד בן 7?</h3>
          <p>
            זו חוויה סוחפת: הכיפה ענקית והתחושה היא של טיסה אמיתית. הקריינות ברורה, והויזואליות עוזרת להבין רעיונות
            כמו ליקוי, מסלולי כוכבי לכת, וכוכבים נופלים. מומלץ לשבת באמצע האולם לקבלת תצוגה מאוזנת.
          </p>
        </article>
        <article>
          <h3>משימת ילד־אסטרונאוט</h3>
          <ul>
            <li>לספור כמה ירחים רואים סביב צדק.</li>
            <li>למצוא את הכוכב הצפון (אם המופע כולל שמים אמיתיים).</li>
            <li>לצייר אחר כך בבית את מערכת השמש לפי הסדר מהשמש והלאה.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- 🌌 Cosmic Courtyard -->
    <section id="courtyard" class="tab-content" role="tabpanel" aria-labelledby="tab-courtyard">
      <h2>🌌 Cosmic Courtyard – חצר קוסמית</h2>
      <figure class="hero">
        <img src="./images/cosmic-courtyard.jpg" alt="גלריה אינטראקטיבית עם מוצגים מעולם החלל" loading="lazy" />
        <figcaption>לגעת, לשחק, לגלות – מדע בידיים.</figcaption>
      </figure>
      <div class="content-grid">
        <article>
          <h3>מה עושים כאן?</h3>
          <p>
            זו גלריה אינטראקטיבית לילדים: נוגעים במטאוריט אמיתי, מודדים כמה שוקלים על הירח לעומת כדור הארץ,
            מציצים בתוך קסדת חלל, ובודקים במכשירים איך אסטרונאוטים עובדים בתחנת החלל. כל תחנה מזמינה ניסוי קצר –
            לוחצים, מסובבים, ומבינים דרך הגוף והחושים.
          </p>
        </article>
        <article>
          <h3>מה לומדים?</h3>
          <ul>
            <li>כבידה: למה אנחנו “קלים” יותר על הירח?</li>
            <li>אטמוספרה: למה צריך חליפת חלל ואוויר לנשימה?</li>
            <li>מטאוריטים: אבנים מהחלל – איך הם נראים ומרגישים?</li>
          </ul>
        </article>
        <article>
          <h3>משימת ילד־חוקר</h3>
          <ul>
            <li>למצוא את התחנה שאומרת כמה תשקלו על מאדים, ולכתוב את המספר.</li>
            <li>לגעת במטאוריט ולתאר במילים: חלק? מחוספס? כבד?</li>
            <li>לצייר <em>תג משימה</em> אישי של אסטרונאוט/ית.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- 🚀 GroundStation Canada -->
    <section id="groundstation" class="tab-content" role="tabpanel" aria-labelledby="tab-groundstation">
      <h2>🚀 GroundStation Canada – הדגמות חיות</h2>
      <figure class="hero">
        <img src="./images/groundstation.jpg" alt="במה להדגמות מדע חיות" loading="lazy" />
        <figcaption>מדענים מדגימים – והקהל משתתף.</figcaption>
      </figure>
      <div class="content-grid">
        <article>
          <h3>מה קורה שם?</h3>
          <p>
            מדריכים מציגים ניסויים קצרים: איך טיל ממריא? מהו כוח המשיכה? איך נראה יום של אסטרונאוט?
            זה קצב גבוה, הרבה שאלות לקהל, ולעיתים מבקשים מתנדבים קטנים לעלות לבמה ולעזור.
          </p>
        </article>
        <article>
          <h3>טיפים להורים</h3>
          <ul>
            <li>בדקו בלוח הזמנים מתי מתחילה ההדגמה – המקומות הטובים נתפסים מהר.</li>
            <li>שבו קרוב אך לא בשורה הראשונה – כדי לראות גם את המכשירים וגם את המסך.</li>
          </ul>
        </article>
        <article>
          <h3>משימת ילד־מהנדס</h3>
          <ul>
            <li>לנבא: מה יקרה בניסוי הבא? (לפני שהמדריך מסביר).</li>
            <li>לרשום 3 כללי בטיחות חלל (קסדה, ריתמה, חיבור לאוויר).</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- 🔭 Observatory -->
    <section id="observatory" class="tab-content" role="tabpanel" aria-labelledby="tab-observatory">
      <h2>🔭 מצפה הכוכבים</h2>
      <figure class="hero">
        <img src="./images/observatory.jpg" alt="כיפת מצפה טלסקופ" loading="lazy" />
        <figcaption>כששמיים בהירים – מסתכלים באמת לשמיים.</figcaption>
      </figure>
      <div class="content-grid">
        <article>
          <h3>מה רואים בטלסקופ?</h3>
          <p>
            בלילות פתוחים לקהל (תלוי מזג אוויר ולו"ז), מציצים דרך טלסקופ גדול ורואים: מכתשים על הירח,
            את טבעות שבתאי, ולעיתים גם ירחי צדק. בימים מסוימים יש תצפית שמש עם מסנן מיוחד.
          </p>
        </article>
        <article>
          <h3>איך להסביר לילד</h3>
          <p>
            הטלסקופ הוא כמו "עין ענקית" שמגדילה עצמים רחוקים. כוכבי לכת לא מאירים מעצמם – הם מחזירים את אור השמש.
          </p>
        </article>
        <article>
          <h3>משימת ילד־כוכב</h3>
          <ul>
            <li>למצוא את הירח עוד לפני שמחשיך לגמרי.</li>
            <li>לזכור שם של מכתש אחד שראו.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- 🦀 Park & Crab Fountain -->
    <section id="park" class="tab-content" role="tabpanel" aria-labelledby="tab-park">
      <h2>🦀 Crab Fountain & Vanier Park – הפסקת חלל בטבע</h2>
      <figure class="hero">
        <img src="./images/crab-fountain.jpg" alt="פסל סרטן מתכתי מול המוזיאון" loading="lazy" />
        <figcaption>סרטן מתכתי ענק, דשא וים – מתאווררים בין החוויות.</figcaption>
      </figure>
      <div class="content-grid">
        <article>
          <h3>למה זה חשוב?</h3>
          <p>
            אחרי הפלנטריום והתצוגות, כדאי לצאת לנשום אוויר. Vanier Park הוא מרחב גדול ליד הים עם דשא לריצה ונוף ל‑Downtown.
            זו הזדמנות לשוחח על מה למדנו ולהתכונן לחלק הבא של היום.
          </p>
        </article>
        <article>
          <h3>משימת ילד־צלם</h3>
          <ul>
            <li>לצלם תמונה עם הסרטן הענק.</li>
            <li>לספור כמה סוגי סירות רואים במפרץ.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- 📅 Day Plan -->
    <section id="dayplan" class="tab-content" role="tabpanel" aria-labelledby="tab-dayplan">
      <h2>📅 סדר יום מומלץ (גמיש)</h2>
      <ol class="dayplan">
        <li><strong>10:00</strong> – כניסה וקבלת לוח מופעים. לבחור <em>מופע פלנטריום</em> ראשון.</li>
        <li><strong>10:45</strong> – <em>Cosmic Courtyard</em>: תחנות אינטראקטיביות; לרשום משקל על הירח/מאדים.</li>
        <li><strong>11:30</strong> – <em>GroundStation Canada</em>: הדגמה חיה (להגיע 5–10 דק' לפני).</li>
        <li><strong>12:00</strong> – הפסקה/פיקניק קצר ב‑Vanier Park.</li>
        <li><strong>13:00</strong> – חזרה לתערוכות/סדנה זמנית; איסוף "חותמות משימה" (ראו למטה).</li>
        <li><strong>14:00</strong> – אם יש ערב בהיר – לשקול חזרה מאוחרת ל‑<em>מצפה</em>; אחרת סיבוב פארק ופרידה.</li>
      </ol>
      <details class="card"><summary>🎖️ חוברת משימות – "אסטרונאוט קטן"</summary>
        <ul>
          <li>פלנטריום: לצייר את מערכת השמש בסדר נכון.</li>
          <li>חצר קוסמית: לרשום משקל על הירח ועל מאדים.</li>
          <li>הדגמות: לכתוב חוק בטיחות אחד שלמדנו.</li>
          <li>מצפה: לסמן מה הצלחנו לראות (ירח/שבתאי/צדק).</li>
          <li>פארק: תמונת משימה ליד הסרטן.</li>
        </ul>
      </details>
      <details class="card"><summary>💡 טיפים להורים</summary>
        <ul>
          <li>בדקו שעות מדויקות באתר הרשמי בבוקר הביקור.</li>
          <li>להביא מים וחטיף; אין מסעדה גדולה בתוך המרכז.</li>
          <li>הפסקות קצרות בין חוויות עוזרות לילדים לעבד מידע.</li>
        </ul>
      </details>
    </section>
  </main>

  <footer class="site-footer">
    <small>גרסת PWA בקובץ יחיד (HTML + CSS + JS מוטמעים). לשים לב: ה‑manifest וה‑service worker חייבים להיות בקבצים נפרדים.</small>
  </footer>

  <script>
    // Tab logic + robust startup + install + SW register
    (function(){
      function ready(fn){ if(document.readyState!=='loading') fn(); else document.addEventListener('DOMContentLoaded', fn); }
      ready(function(){
        const tabs = Array.from(document.querySelectorAll('.tab-btn'));
        const panels = Array.from(document.querySelectorAll('.tab-content'));
        if(!tabs.length || !panels.length){ return; }
        function activate(id){
          panels.forEach(p=>p.classList.remove('is-active'));
          tabs.forEach(b=>{ b.classList.remove('is-active'); b.setAttribute('aria-selected','false'); });
          const panel = document.getElementById(id);
          const btn = tabs.find(b=>b.dataset.tab===id);
          if(panel){ panel.classList.add('is-active'); }
          if(btn){ btn.classList.add('is-active'); btn.setAttribute('aria-selected','true'); btn.focus({preventScroll:true}); }
          window.scrollTo({top:0, behavior:'smooth'});
        }
        tabs.forEach(btn=>{
          btn.addEventListener('click', (e)=>{ e.preventDefault(); const id = btn.dataset.tab; activate(id); history.replaceState(null,'',`#${id}`); });
          btn.addEventListener('keydown', (e)=>{
            const i = tabs.indexOf(btn);
            if(e.key==='ArrowRight' || e.key==='ArrowLeft'){
              e.preventDefault();
              const dir = e.key==='ArrowRight' ? 1 : -1;
              const next = tabs[(i+dir+tabs.length)%tabs.length];
              next.focus(); next.click();
            }
          });
        });
        const hash = decodeURIComponent(location.hash.replace('#',''));
        if(hash && document.getElementById(hash)) activate(hash); else activate(tabs[0].dataset.tab);
        // PWA install prompt
        let deferredPrompt; const installBtn = document.getElementById('installBtn');
        window.addEventListener('beforeinstallprompt',(e)=>{ e.preventDefault(); deferredPrompt=e; if(installBtn) installBtn.hidden=false; });
        installBtn && installBtn.addEventListener('click', async ()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); await deferredPrompt.userChoice; deferredPrompt=null; installBtn.hidden=true; });
        // Service worker registration (must be external file ./sw.js)
        if('serviceWorker' in navigator){
          window.addEventListener('load',()=>{ navigator.serviceWorker.register('./sw.js').catch(console.error); });
        }
      });
    })();
  </script>
</body>
</html>
